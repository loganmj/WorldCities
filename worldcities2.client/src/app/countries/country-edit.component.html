<div class="country-edit">

  <!-- The form title -->
  <h1>{{title}}</h1>

  <!-- Loading message -->
  <p *ngIf="id && !country"><em>Loading ...</em></p>

  <!-- Country edit form -->
  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <!-- Name -->
    <mat-form-field>
      <mat-label>Name:</mat-label>
      <input matInput formControlName="name" required placeholder="Type a name" />
      <mat-error *ngIf="form.controls['name'].errors?.['required']">Name is required</mat-error>
      <mat-error *ngIf="form.controls['name'].errors?.['isDuplicateField']">Name already exists</mat-error>
    </mat-form-field>

    <!-- ISO2 -->
    <mat-form-field>
      <mat-label>ISO2 3166-1 ALPHA-2 Country Code (Two Letters)</mat-label>
      <input matInput formControlName="iso2" required placeholder="Insert the ISO2 country code" />
      <mat-error *ngIf="form.controls['iso2'].errors?.['required']">ISO2 country code is required</mat-error>
      <mat-error *ngIf="form.controls['iso2'].errors?.['pattern']">ISO2 country code requires two letters</mat-error>
      <mat-error *ngIf="form.controls['iso2'].errors?.['isDuplicateField']">ISO2 country code already exists</mat-error>
    </mat-form-field>

    <!-- ISO3 -->
    <mat-form-field>
      <mat-label>ISO3 3166-1 ALPHA-3 Country Code (Three Letters)</mat-label>
      <input matInput formControlName="iso3" required placeholder="Insert the ISO3 country code" />
      <mat-error *ngIf="form.controls['iso3'].errors?.['required']">ISO3 country code is required</mat-error>
      <mat-error *ngIf="form.controls['iso3'].errors?.['pattern']">ISO3 country code requires three letters</mat-error>
      <mat-error *ngIf="form.controls['iso3'].errors?.['isDuplicateField']">ISO3 country code already exists</mat-error>
    </mat-form-field>

    <!-- Submit and Cancel buttons -->
    <div>
      <button mat-flat-button color="primary" type="submit" [disabled]="!form.valid">{{this.id ? "Save" : "Create"}}</button>
      <button mat-flat-button color="secondary" [routerLink]="['/countries']">Cancel</button>
    </div>

  </form>

</div>
