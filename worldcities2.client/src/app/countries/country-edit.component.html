<div class="country-edit">

  <!-- The form title -->
  <h1>{{title}}</h1>

  <!-- Loading message -->
  <p *ngIf="id && !country"><em>Loading ...</em></p>

  <!-- Country edit form -->
  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <!-- Name -->
    <mat-form-field>
      <mat-label>Name:</mat-label>
      <input matInput formControlName="name" required placeholder="Type a name" />
      <mat-error *ngFor="let error of getErrors(form.get('name')!, 'Name')">{{error}}</mat-error>
    </mat-form-field>

    <!-- ISO2 -->
    <mat-form-field>
      <mat-label>ISO2 3166-1 ALPHA-2 Country Code (Two Letters)</mat-label>
      <input matInput formControlName="iso2" required placeholder="Insert the ISO2 country code" />
      <mat-error *ngFor="let error of getErrors(form.get('iso2')!, 'ISO 3166-1 ALPHA 2 Country Code', {'pattern' : 'requires two letters'})">{{error}}</mat-error>
    </mat-form-field>

    <!-- ISO3 -->
    <mat-form-field>
      <mat-label>ISO3 3166-1 ALPHA-3 Country Code (Three Letters)</mat-label>
      <input matInput formControlName="iso3" required placeholder="Insert the ISO3 country code" />
      <mat-error *ngFor="let error of getErrors(form.get('iso3')!, 'ISO 3166-1 ALPHA 3 Country Code', {'pattern' : 'requires three letters'})">{{error}}</mat-error>
    </mat-form-field>

    <!-- Submit and Cancel buttons -->
    <div>
      <button mat-flat-button color="primary" type="submit" [disabled]="!form.valid">{{this.id ? "Save" : "Create"}}</button>
      <button mat-flat-button color="secondary" [routerLink]="['/countries']">Cancel</button>
    </div>

  </form>

</div>
